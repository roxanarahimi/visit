{"version":3,"file":"js/scores.f8aaf46d.js","mappings":"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","sources":["webpack://visit/./src/views/Scores.vue","webpack://visit/./src/views/Scores.vue?e8e4"],"sourcesContent":["<template>\r\n  <div class=\"d-flex justify-content-xl-between mb-5\">\r\n    <div>\r\n      {{ query.shop_name }}\r\n      گرید\r\n      {{ query.grade }}\r\n      <br>\r\n      {{ query.user_name }}\r\n    </div>\r\n    <div @click=\"$router.go(-1)\" >\r\n      <svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 12 12\">\r\n        <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8\"/>\r\n      </svg>\r\n    </div>\r\n  </div>\r\n  <div class=\"row px-2\">\r\n\r\n    <table class=\"table table-bordered  border-dark\">\r\n      <thead>\r\n      <tr>\r\n        <th scope=\"col\"  class=\"border-0 border-bottom  border-dark\" style=\"width: 40px\"> </th>\r\n        <th scope=\"col\"  class=\"border-0 border-bottom  border-dark\">آیتم</th>\r\n        <th scope=\"col\"  class=\"border-0 border-bottom  border-dark\">فضا</th>\r\n        <th scope=\"col\" class=\"border-0 border-bottom  border-dark \">امتیاز</th>\r\n      </tr>\r\n\r\n      </thead>\r\n\r\n      <tbody>\r\n      <tr v-for=\"(item, index) in data\" :key=\"index\">\r\n        <th scope=\"row\" style=\"width: 40px\">\r\n          <div @click=\"checkboxToggle(index)\" class=\"check d-flex justify-content-center\">\r\n            <svg v-if=\"item.checked\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\" bi bi-check2\" viewBox=\"0 0 14 14\">\r\n              <path d=\"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z\"/>\r\n            </svg>\r\n          </div>\r\n        </th>\r\n        <td>{{ item.title }}</td>\r\n        <td>{{ item.space }}%</td>\r\n        <td class=\"border-end-0\">{{ item.score }}</td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n    <hr>\r\n\r\n    <div class=\"d-flex justify-content-center col-9 mx-auto mb-3\">\r\n      <button class=\"btn btn-btn2 px-5 \" @click=\"calculate\">محاسبه امتیازات</button>\r\n    </div>\r\n\r\n    <div>\r\n\r\n      <div class=\"d-flex justify-content-between\">\r\n        <p>جمع امتیاز عدم:</p>\r\n        <input id=\"notExist\" v-model=\"total_absence\" class=\" rounded text-center py-1\" style=\"background-color: lightgray; width: 100px; height: 30px; border: none\">\r\n      </div>\r\n <div class=\"d-flex justify-content-between\">\r\n        <p>جمع امتیاز چیدمان:</p>\r\n        <input id=\"exist\" v-model=\"total_points\" class=\" rounded text-center py-1\" style=\"background-color: lightgray; width: 100px; height: 30px; border: none\">\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"d-flex justify-content-center col-9 mx-auto\">\r\n      <button @click=\"submit\" class=\"btn btn-btn2 px-5 \">ثبت نهایی فرم</button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport {useRoute, useRouter} from \"vue-router/dist/vue-router\";\r\nimport {onMounted, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: 'Scores',\r\n  setup(){\r\n\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const query = ref({})\r\n    onMounted(async () => {\r\n      await router.isReady();\r\n      query.value = route.query;\r\n    })\r\n    const total_absence = ref(0)\r\n    const total_points = ref(0)\r\n    const data = ref([\r\n      {name: 'noodelite_60_10',title: 'نودالیت نودالیت', space: 60, score: 10, checked: false},\r\n      {name: 'noodle_amadeh_noodiland_20_5',title: 'نودالیت آماده و نودیلند', space: 30, score: 5, checked: false},\r\n      {name: 'extract_elite_80_10',title: 'عصاره الیت', space: 80, score: 10, checked: false},\r\n      {name: 'extract_amadeh_noodiland_10_5',title: 'عصاره آماده و نودیلند', space: 10, score: 5, checked: false},\r\n      {name: 'soup_elite_50_10',title: 'سوپ الیت', space: 50, score: 10, checked: false},\r\n      {name: 'soup_amadeh_noodiland_20_5',title: 'سوپ آماده و نودیلند', space: 20, score: 5, checked: false},\r\n      {name: 'spice_25_3',title: 'ادویه', space: 25, score: 3, checked: false},\r\n      {name: 'chocolate_wafer_kanti_30_10',title: 'ویفر شکلاتی و کانتی', space: 30, score: 10, checked: false},\r\n      {name: 'tombi_15_3',title: 'تامبی', space: 15, score: 3, checked: false},\r\n      {name: 'select_15_2',title: 'سلکت', space: 15, score: 2, checked: false},\r\n      {name: 'breakfast_chocolate_30_10',title: 'شکلات صبحانه', space: 30, score: 10, checked: false},\r\n      {name: 'glass_box_coffee_40_7',title: 'قهوه های کیسه ای باکسی و شیشه ای', space: 40, score: 7, checked: false},\r\n      {name: 'biscuit_ocopa_30_3',title: 'بیسکوییت اوکوپا', space: 30, score: 3, checked: false},\r\n      {name: 'creamy_bran_biscuit_15_2',title: 'بیسکوییت های سبوس ساده و کرمدار', space: 15, score: 2, checked: false},\r\n      {name: 'rectangular_biscuit_piece_chocolate_5_1',title: 'بیسکوییت مستطیلی و تکه شکلات', space: 5, score: 1, checked: false},\r\n      {name: 'copa_fit_and_fun_pudding_95_2',title: 'پودینگ کوپا و فیت و فان', space: 95, score: 2, checked: false},\r\n      {name: 'jelly_30_3',title: 'ژله', space: 30, score: 3, checked: false},\r\n      {name: 'breakfast_cereal_30_3',title: 'غلات صبحانه', space: 30, score: 3, checked: false},\r\n      {name: 'copa_barley_and_wheat_50_2',title: 'کوپا جو کوپا گندم (از کل فضا)', space: 50, score: 2, checked: false},\r\n      {name: 'multigrain_50_2',title: 'چند غله (از کل فضا)', space: 50, score: 2, checked: false},\r\n      {name: 'chewing_gum_50_2',title: 'آدامس (از کل فضا)', space: 50, score: 2, checked: false},\r\n    ]);\r\n\r\n    const checkboxToggle=(index)=>{\r\n       data.value[index].checked = !data.value[index].checked;\r\n    }\r\n    const calculate = ()=>{\r\n      let info = {};\r\n      data.value.forEach((item)=>{\r\n        info[item.name] = item.checked\r\n      })\r\n      let ps = [];\r\n      let xo= JSON.parse(localStorage.getItem('products'))\r\n      xo.forEach((element)=>{\r\n        console.log(element,'lll')\r\n        if(\r\n            element.shop_id == query.value.shop_id &&\r\n            element.user_id == query.value.user_id &&\r\n            element.type == query.value.type\r\n        ){\r\n          element.info.forEach((p)=>{\r\n            ps.push(p);\r\n          })\r\n\r\n        }\r\n      })\r\n      info.products = ps;\r\n      console.log(xo, ps)\r\n\r\n      axios.post('https://api.amadehlaziz.com:446/form/calculate_point?api_key=mJF2qVIOq22K1LvNBp9gDiOcK8e2p', info)\r\n          .then((response)=>{\r\n            document.querySelector('#exist').value = response.data.total_layout\r\n            document.querySelector('#notExist').value = response.data.total_absence\r\n          })\r\n          .catch((error)=>{ console.log(error)});\r\n    }\r\n    const submit = ()=>{\r\n      let info = {};\r\n      let points = {};\r\n      data.value.forEach((item)=>{\r\n        points[item.name] = item.checked;\r\n      })\r\n      points.total_absence = total_absence.value;\r\n      points.total_points = total_points.value;\r\n      info.points = points;\r\n      info.shop_id= query.value.shop_id;\r\n          info.grade=  query.value.grade;\r\n          info.visitor_id=  query.value.user_id;\r\n          info.visit_date=  query.value.date;\r\n          info.visit_time= query.value.time;\r\n      info.product_info = JSON.parse(localStorage.getItem('products'))\r\n      let y = {}\r\n      let promise = new Promise((resolve, reject) => {\r\n        let points = {};\r\n        data.value.forEach((item)=>{\r\n          points[item.name] = item.checked;\r\n        })\r\n        if (points) {resolve(points);} else {   reject('Error');}\r\n      })\r\n      promise.then((points) => {\r\n        console.log('pssss',JSON.parse(localStorage.getItem('products')))\r\n        let ps = [];\r\n        let xo= JSON.parse(localStorage.getItem('products'))\r\n        xo.forEach((element)=>{\r\n          if(\r\n              element.shop_id == query.value.shop_id &&\r\n              element.user_id == query.value.user_id &&\r\n              element.type == query.value.type\r\n          ){\r\n            element.info.forEach((p)=>{\r\n              ps.push(p);\r\n            })\r\n\r\n          }\r\n        })\r\n         y = {\r\n          \"visitor_id\": query.value.user_id,\r\n          \"shop_id\": query.value.shop_id,\r\n          \"visit_date\": query.value.date,\r\n          \"visit_time\": query.value.time,\r\n          \"product_info\": ps,\r\n          \"points\": {\r\n            \"total_absence\": total_absence.value,\r\n            \"total_points\": total_points.value,\r\n            \"noodelite_60\": points.noodelite_60_10,\r\n            \"noodle_amadeh_noodiland_20\": points.noodle_amadeh_noodiland_20_5,\r\n            \"extract_elite_80\": points.extract_elite_80_10,\r\n            \"extract_amadeh_noodiland_10\": points.extract_amadeh_noodiland_10_5,\r\n            \"soup_elite_50\": points.soup_elite_50_10,\r\n            \"soup_amadeh_noodiland_20_5\": points.soup_amadeh_noodiland_20_5,\r\n            \"spice_25\": points.spice_25_3,\r\n            \"chocolate_wafer_kanti_30\": points.chocolate_wafer_kanti_30_10,\r\n            \"tombi_15\": points.tombi_15_3,\r\n            \"select_15\": points.select_15_2,\r\n            \"breakfast_chocolate_30\": points.breakfast_chocolate_30_10,\r\n            \"glass_box_coffee_40\": points.glass_box_coffee_40_7,\r\n            \"biscuit_ocopa_30\": points.biscuit_ocopa_30_3,\r\n            \"creamy_bran_biscuit_15\": points.creamy_bran_biscuit_15_2,\r\n            \"rectangular_biscuit_piece_chocolate_5\": points.rectangular_biscuit_piece_chocolate_5_1,\r\n            \"copa_fit_and_fun_pudding_95\": points.copa_fit_and_fun_pudding_95_2,\r\n            \"jelly_30\": points.jelly_30_3,\r\n            \"breakfast_cereal_30\": points.breakfast_cereal_30_3,\r\n            \"copa_barley_and_wheat_50\": points.copa_barley_and_wheat_50_2,\r\n            \"multigrain_50\": points.multigrain_50_2,\r\n            \"chewing_gum_50\": points.chewing_gum_50_2\r\n          }\r\n        }\r\n      }).then(()=>{\r\n            axios.post('https://api.amadehlaziz.com:446/form/create_form_data?api_key=mJF2qVIOq22K1LvNBp9gDiOcK8e2p', y)\r\n                .then((response)=>{\r\n                  console.log(response.data);\r\n                  alert('ثبت نهایی فرم با موفقیت انجام شد')\r\n                  router.go(-3);\r\n\r\n                })\r\n                .catch((error)=>{ console.log(error)});\r\n          })\r\n          .catch((err) => { console.error(err);});\r\n\r\n    }\r\n    return{\r\n      data, route, router, query, checkboxToggle, total_absence, total_points, calculate, submit\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n.table-bordered > tbody > tr > td,\r\n.table-bordered {\r\n  border-bottom: transparent 0 !important;\r\n  border-top:  transparent 0 !important;\r\n}\r\n\r\n.table-bordered {\r\n  border-right: transparent 0 !important;\r\n}\r\nth {\r\n  border-left: transparent 0 !important;\r\n}\r\n.check{\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  border: 1px solid black;\r\n  padding-top: 4px;\r\n  cursor: pointer;\r\n}\r\nth,td{\r\n  font-size: 13px;\r\n  font-weight: lighter !important;\r\n}\r\n</style>","import { render } from \"./Scores.vue?vue&type=template&id=f52056e4\"\nimport script from \"./Scores.vue?vue&type=script&lang=js\"\nexport * from \"./Scores.vue?vue&type=script&lang=js\"\n\nimport \"./Scores.vue?vue&type=style&index=0&id=f52056e4&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","xmlns","width","height","fill","viewBox","d","_hoisted_3","scope","style","_hoisted_11","_hoisted_1","$setup","query","shop_name","_toDisplayString","grade","_hoisted_2","user_name","onClick","_cache","$event","_ctx","$router","go","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_Fragment","_renderList","data","item","index","key","_hoisted_8","checkboxToggle","checked","_hoisted_10","_hoisted_12","title","space","_hoisted_13","score","_hoisted_14","_hoisted_15","args","calculate","_hoisted_16","_hoisted_17","id","total_absence","_hoisted_18","_hoisted_19","total_points","_hoisted_20","submit","name","setup","route","useRoute","router","useRouter","ref","onMounted","async","isReady","value","info","forEach","ps","xo","JSON","parse","localStorage","getItem","element","console","log","shop_id","user_id","type","p","push","products","axios","post","then","response","document","querySelector","total_layout","catch","error","points","visitor_id","visit_date","date","visit_time","time","product_info","y","promise","Promise","resolve","reject","noodelite_60_10","noodle_amadeh_noodiland_20_5","extract_elite_80_10","extract_amadeh_noodiland_10_5","soup_elite_50_10","soup_amadeh_noodiland_20_5","spice_25_3","chocolate_wafer_kanti_30_10","tombi_15_3","select_15_2","breakfast_chocolate_30_10","glass_box_coffee_40_7","biscuit_ocopa_30_3","creamy_bran_biscuit_15_2","rectangular_biscuit_piece_chocolate_5_1","copa_fit_and_fun_pudding_95_2","jelly_30_3","breakfast_cereal_30_3","copa_barley_and_wheat_50_2","multigrain_50_2","chewing_gum_50_2","alert","err","__exports__","render"],"sourceRoot":""}