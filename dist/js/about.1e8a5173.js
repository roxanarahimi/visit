"use strict";(self["webpackChunkvisit"]=self["webpackChunkvisit"]||[]).push([[443],{4022:function(e,t,l){l.r(t),l.d(t,{default:function(){return J}});var n=l(3396),a=l(7139);const u={class:"p-4"},i={class:"d-flex justify-content-xl-between mb-5"},r=(0,n._)("br",null,null,-1),s=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 12 12"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"})],-1),o=[s],c={class:"d-flex justify-content-between mb-3"},d=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-chevron-left",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})],-1),h={class:"row justify-content-center mb-3"},p=["id","onClick"],_=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1),v=[_],f={class:"col-6 input-container"},b=["value","id"],w=(0,n._)("div",{class:"col-3 title-container"},"Shelf",-1),g=["id","onClick"],y=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-lg",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"})],-1),m=[y],S={class:"row justify-content-center mb-3"},x=["id","onClick"],q=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1),k=[q],F={class:"col-6 input-container"},T=["value","id"],C=(0,n._)("div",{class:"col-3 title-container"},"F/T",-1),z=["id","onClick"],j=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash-lg",viewBox:"0 0 16 16"},[(0,n._)("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"})],-1),I=[j],E=(0,n._)("hr",null,null,-1),B={class:"d-flex justify-content-center pt-5"},M={class:"d-flex justify-content-center pt-5"};function Z(e,t,l,s,_,y){const q=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",i,[(0,n._)("div",null,[(0,n.Uk)((0,a.zw)(s.query.shop_name)+" گرید "+(0,a.zw)(s.query.grade)+" ",1),r,(0,n.Uk)(" "+(0,a.zw)(s.query.user_name),1)]),(0,n._)("div",{onClick:t[0]||(t[0]=t=>e.$router.go(-1))},o)]),(0,n._)("div",c,[(0,n._)("h6",null,[(0,n.Uk)((0,a.zw)(s.query.type)+" ",1),d,(0,n.Uk)(" "+(0,a.zw)(s.query.brand),1)])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.data,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("p",{class:(0,a.C_)({"text-danger":0==e.is_main})},(0,a.zw)(t+1)+"."+(0,a.zw)(e.name),3),(0,n._)("div",h,[(0,n._)("button",{class:"btn btn-btn3 col-1 p-2",id:"btn_plus_Shelf_"+t,onClick:e=>s.increaseShelf(t)},v,8,p),(0,n._)("div",f,[(0,n._)("input",{type:"number",class:"input",placeholder:"عدد را وارد کنید",value:e.shelf,id:"input_Shelf_"+t},null,8,b)]),w,(0,n._)("button",{class:"btn btn-btn3 col-1 p-2",id:"btn_minus_Shelf_"+t,onClick:e=>s.decreaseShelf(t)},m,8,g)]),(0,n._)("div",S,[(0,n._)("button",{class:"btn btn-btn3 col-1 p-2",id:"btn_plus_FT_"+t,onClick:e=>s.increaseFT(t)},k,8,x),(0,n._)("div",F,[(0,n._)("input",{type:"number",class:"input",placeholder:"عدد را وارد کنید",value:e.FT,id:"input_FT_"+t},null,8,T)]),C,(0,n._)("button",{class:"btn btn-btn3 col-1 p-2",id:"btn_minus_FT_"+t,onClick:e=>s.decreaseFT(t)},I,8,z)]),E])))),128)),(0,n._)("div",B,[(0,n._)("button",{onClick:t[1]||(t[1]=(...e)=>s.submit&&s.submit(...e)),style:{width:"200px","text-align":"center"},class:"py-2 btn-btn mx-auto px-5"},"ثبت تغییرات")]),(0,n._)("div",M,[(0,n.Wm)(q,{style:{width:"200px","text-align":"center"},to:{name:"scores",query:s.query},class:"py-2 btn-btn mx-auto px-5"},{default:(0,n.w5)((()=>[(0,n.Uk)("جمع امتیاز")])),_:1},8,["to"])])])}l(560);var A=l(2483),H=l(4870),U={setup(){const e=(0,H.iH)([]),t=()=>{axios.get("https://api.amadehlaziz.com:446/panel/products?api_key=w2fqxjKzdlx345NjQ7D99xz5cPp").then((t=>{e.value=t.data,e.value.forEach((e=>{e.shelf=1,e.FT=0}))})).then((()=>{let t=e.value.filter((e=>e.type==o.value.type&&e.brand==o.value.brand&&(e.grade==o.value.grade||"Z"==e.grade)));e.value=t,e.value.forEach((e=>{let t=JSON.parse(localStorage.getItem("products"));t.forEach((t=>{t.brand==o.value.brand&&t.type==o.value.type&&t.shop_id==o.value.shop_id&&t.user_id==o.value.user_id&&t.info.forEach((t=>{console.log("d",t,e),t.product_id==e.id&&(e.shelf=t.shelf,e.FT=t.FT)}))}))}))})).catch((e=>{console.log(e)}))},l=t=>{let l=parseInt(document.querySelector("#input_FT_"+t).value)||0;document.querySelector("#input_FT_"+t).value=l+1,e.value[t].FT=document.querySelector("#input_FT_"+t).value},a=t=>{let l=parseInt(document.querySelector("#input_FT_"+t).value)||0;l>0&&(document.querySelector("#input_FT_"+t).value=l-1,e.value[t].FT=document.querySelector("#input_FT_"+t).value)},u=t=>{let l=parseInt(document.querySelector("#input_Shelf_"+t).value)||0;document.querySelector("#input_Shelf_"+t).value=l+1,e.value[t].shelf=document.querySelector("#input_Shelf_"+t).value},i=t=>{let l=parseInt(document.querySelector("#input_Shelf_"+t).value)||0;l>0&&(document.querySelector("#input_Shelf_"+t).value=l-1,e.value[t].shelf=document.querySelector("#input_Shelf_"+t).value)},r=(0,A.yj)(),s=(0,A.tv)(),o=(0,H.iH)({});(0,n.bv)((()=>{let e=new Promise((async(e,t)=>{await s.isReady(),o.value=r.query,r.query?e("Success"):t("Error")}));e.then((()=>{t()})).catch((e=>{console.error(e)}))}));const c=()=>{let t=[];e.value.forEach((e=>{t.push({product_id:e.id,shelf:e.shelf,FT:e.FT})}));let l={brand:o.value.brand,type:o.value.type,shop_id:o.value.shop_id,user_id:o.value.user_id,info:t},n=JSON.parse(localStorage.getItem("products"));n?n.forEach((e=>{e.brand==l.brand&&e.type==l.type&&e.shop_id==l.shop_id&&e.user_id==l.user_id?e.info=t:n.push(l)})):(n=[],n.push(l)),localStorage.setItem("products",JSON.stringify(n)),console.log(localStorage.getItem("products"))};return{data:e,increaseFT:l,decreaseFT:a,increaseShelf:u,decreaseShelf:i,route:r,router:s,query:o,getProducts:t,submit:c}}},D=l(89);const N=(0,D.Z)(U,[["render",Z]]);var J=N}}]);
//# sourceMappingURL=about.1e8a5173.js.map